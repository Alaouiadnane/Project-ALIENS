{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\Projet BUFFA\\\\project\\\\src\\\\components\\\\ListesCas.js\";\nimport React from 'react';\nimport MaterialTable from \"material-table\";\nimport Paper from \"@material-ui/core/Paper\"; //foor the icons\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport './ListeCas.css';\nimport Listetemoignages from './Listetemoignages';\n\nclass ListesCas extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n      idcas: null,\n      selectedRow: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"je vais chercher les cas\"); // const response =  fetch(`/api`);\n    // console.log(response.body);\n    // const data =  response.json();\n    // console.log(data)\n    //fetch('/api')\n    //     .then(function(response) { return response.json()}\n    //     .then(\n    //       data => {\n    //       console.log(\"dddddd\");\n    //       console.log((data.body));\n    //       this.setState({ data : data.data });\n    //       console.log(this.state.data);\n    //   },\n    //   error => {\n    //     this.setState({\n    //       error\n    //   })\n    // }))\n\n    fetch(\"/api\").then(response => {\n      return response.json();\n    }).then(data => {\n      this.setState({\n        data: data\n      });\n      console.log(data);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MaterialTable //style={{alignItems: 'center', justifyContent: 'center' }}\n    , {\n      title: \"Liste des Cas\",\n      options: {\n        headerStyle: {\n          backgroundColor: '#039be5',\n          color: '#FFF'\n        },\n        rowStyle: rowData => ({\n          backgroundColor: this.state.selectedRow && this.state.selectedRow.tableData.id === rowData.tableData.id ? '#EEE' : '#FFF'\n        })\n      },\n      columns: [{\n        title: 'Nom de dossier',\n        field: 'cas_nom_dossier',\n        headerStyle: {\n          backgroundColor: '#039be5'\n        }\n      }, {\n        title: 'Nom de la zone',\n        field: 'cas_zone_nom',\n        headerStyle: {\n          backgroundColor: '#039be5'\n        }\n      }, {\n        title: 'Code Zone',\n        field: 'cas_zone_code',\n        headerStyle: {\n          backgroundColor: '#039be5'\n        }\n      }, {\n        title: 'Date',\n        field: 'Date',\n        headerStyle: {\n          backgroundColor: '#039be5'\n        }\n      }, {\n        title: 'Nombre de temoignages',\n        field: 'cas_temoignages_nb',\n        headerStyle: {\n          backgroundColor: '#039be5'\n        }\n      }, {\n        title: 'ResumÃ© Cas',\n        field: 'cas_resume_web',\n        headerStyle: {\n          backgroundColor: '#039be5'\n        }\n      }],\n      data: this.state.data //columns={state.columns}\n      //data={this.state.data}   \n      ,\n      icons: {\n        Add: AddBox,\n        Check: Check,\n        Clear: Clear,\n        Delete: DeleteOutline,\n        DetailPanel: ChevronRight,\n        Edit: Edit,\n        Export: SaveAlt,\n        Filter: FilterList,\n        FirstPage: FirstPage,\n        LastPage: LastPage,\n        NextPage: ChevronRight,\n        PreviousPage: ChevronLeft,\n        ResetSearch: Clear,\n        Search: Search,\n        SortArrow: ArrowUpward,\n        ThirdStateCheck: Remove,\n        ViewColumn: ViewColumn\n      },\n      detailPanel: [{\n        tooltip: 'Afficher temoignages',\n        headerStyle: {\n          backgroundColor: '#039be5'\n        },\n        render: rowData => {\n          return /*#__PURE__*/React.createElement(Listetemoignages, {\n            titre: \"Temoignages Cas \",\n            idcas: rowData.id_cas,\n            nbrtemoignages: rowData.nbrtemoignages,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 22\n            }\n          });\n        }\n      }],\n      onRowClick: (event, rowData, selectedRow, togglePanel) => {\n        togglePanel();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}\n\nexport default ListesCas;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/Projet BUFFA/project/src/components/ListesCas.js"],"names":["React","MaterialTable","Paper","AddBox","ArrowUpward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","Listetemoignages","ListesCas","Component","constructor","state","data","idcas","selectedRow","componentDidMount","console","log","fetch","then","response","json","setState","render","headerStyle","backgroundColor","color","rowStyle","rowData","tableData","id","title","field","Add","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","tooltip","id_cas","nbrtemoignages","event","togglePanel"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport MaterialTable from \"material-table\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n//foor the icons\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\nimport './ListeCas.css';  \r\nimport Listetemoignages from './Listetemoignages'\r\n\r\n\r\nclass ListesCas extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n          data: [],\r\n          idcas: null,\r\n          selectedRow:null\r\n        }\r\n    };\r\n     componentDidMount(){\r\n      console.log(\"je vais chercher les cas\");\r\n\r\n      // const response =  fetch(`/api`);\r\n      // console.log(response.body);\r\n      // const data =  response.json();\r\n      // console.log(data)\r\n      //fetch('/api')\r\n      //     .then(function(response) { return response.json()}\r\n      //     .then(\r\n      //       data => {\r\n      //       console.log(\"dddddd\");\r\n      //       console.log((data.body));\r\n      //       this.setState({ data : data.data });\r\n      //       console.log(this.state.data);\r\n      //   },\r\n      //   error => {\r\n      //     this.setState({\r\n      //       error\r\n      //   })\r\n      // }))\r\n      fetch(\"/api\")\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        this.setState({\r\n          data:data\r\n        })\r\n        console.log(data)   \r\n      })\r\n    }\r\n        \r\n      \r\n    render(){\r\n      return (\r\n          <div className=\"body\">\r\n          <Paper>\r\n        <MaterialTable\r\n          //style={{alignItems: 'center', justifyContent: 'center' }}\r\n          title=\"Liste des Cas\"\r\n          options={{\r\n            headerStyle: {\r\n              backgroundColor: '#039be5',\r\n              color: '#FFF'\r\n            },\r\n            rowStyle: rowData => ({\r\n              backgroundColor: (this.state.selectedRow && this.state.selectedRow.tableData.id === rowData.tableData.id) ? '#EEE' : '#FFF'\r\n            })\r\n          }}\r\n          columns={[\r\n            { title: 'Nom de dossier', field: 'cas_nom_dossier',\r\n            headerStyle: {\r\n              backgroundColor: '#039be5',\r\n            } },\r\n            { title: 'Nom de la zone', field: 'cas_zone_nom',\r\n            headerStyle: {\r\n              backgroundColor: '#039be5',\r\n            }},\r\n            { title: 'Code Zone', field: 'cas_zone_code',\r\n            headerStyle: {\r\n              backgroundColor: '#039be5',\r\n            }},\r\n            { title: 'Date', field: 'Date',\r\n            headerStyle: {\r\n              backgroundColor: '#039be5',\r\n            }},\r\n            { title: 'Nombre de temoignages', field: 'cas_temoignages_nb',\r\n            headerStyle: {\r\n              backgroundColor: '#039be5',\r\n            }},\r\n            { title: 'ResumÃ© Cas', field: 'cas_resume_web',headerStyle: {\r\n              backgroundColor: '#039be5',\r\n            }},\r\n          ]}\r\n          data={this.state.data}\r\n          //columns={state.columns}\r\n          //data={this.state.data}   \r\n          icons={{Add:AddBox, Check: Check,\r\n            Clear: Clear,Delete: DeleteOutline,  DetailPanel: ChevronRight, Edit: Edit, Export: SaveAlt, Filter: FilterList,\r\n            FirstPage: FirstPage, LastPage: LastPage, NextPage: ChevronRight, PreviousPage: ChevronLeft, ResetSearch: Clear,\r\n            Search: Search, SortArrow: ArrowUpward, ThirdStateCheck: Remove, ViewColumn: ViewColumn, }}\r\n\r\n            detailPanel={[\r\n              {\r\n                tooltip: 'Afficher temoignages',\r\n                headerStyle:{backgroundColor:'#039be5'},\r\n                render: rowData => {\r\n                  return (\r\n                     \r\n                     \r\n                     <Listetemoignages\r\n                      titre={\"Temoignages Cas \"}\r\n                      idcas={rowData.id_cas}\r\n                      nbrtemoignages={rowData.nbrtemoignages}\r\n                     ></Listetemoignages>\r\n                     \r\n                  )\r\n                },\r\n              },\r\n            ]}\r\n            onRowClick={(event, rowData,selectedRow, togglePanel) => {\r\n              togglePanel()\r\n              }}\r\n        />\r\n        </Paper>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n  \r\n  export default ListesCas;"]},"metadata":{},"sourceType":"module"}